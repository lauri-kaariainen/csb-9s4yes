(this["webpackJsonpreact-typescript"]=this["webpackJsonpreact-typescript"]||[]).push([[0],{14:function(e,t,c){"use strict";c.r(t);var r=c(1),s=c(4),n=c(2),i=function(e){return{name:e.name,hp:.239006*e.Valuelist[1],attackPower:+e.Valuelist[0],defencePower:+e.Valuelist[3],fats:+e.Valuelist[2],delay:+(e.Valuelist[0]+e.Valuelist[2]+e.Valuelist[3]).toFixed(2)}},a=function(e,t){return+(e*t*100/100).toFixed(2)},j=function(e,t){return 0===100*e%(100*t)},l=function(e,t){return{char1:e,char2:t,currStep:0,stepsList:new Array(200).fill(null).map((function(t,c){return a(c+1,e.delay)})).concat(new Array(200).fill(null).map((function(e,c){return a(c+1,t.delay)}))).sort((function(e,t){return e-t})).map((function(e){return+e.toFixed(2)})),fightEnded:!1,hp1:e.hp,hp2:t.hp,logs:[{currHp1:e.hp,currHp2:t.hp,whoHit:"",currTime:0}]}},d=function(e){var t=j(e.stepsList[e.currStep],e.char2.delay)?+(e.hp1-e.char2.attackPower*(1-e.char1.defencePower/100)):e.hp1,c=j(e.stepsList[e.currStep],e.char1.delay)?+(e.hp2-e.char1.attackPower*(1-e.char2.defencePower/100)):e.hp2;return{char1:e.char1,char2:e.char2,currStep:e.currStep+1,stepsList:e.stepsList,fightEnded:Math.min(t,c)<=0,hp1:t,hp2:c,logs:e.logs.concat({currHp1:t,currHp2:c,currTime:e.stepsList[e.currStep],whoHit:t!==e.hp1&&c!==e.hp2?e.char1.name+", "+e.char2.name:t!==e.hp1?e.char2.name:e.char1.name})}},h=c(0),o=function(e){return e[Math.floor(e.length*Math.random())]},b=function(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),c=t[0],s=t[1],a=Object(r.useState)([]),j=Object(n.a)(a,2),b=j[0],u=j[1],x=Object(r.useState)(null),O=Object(n.a)(x,2),p=O[0],f=O[1],m=Object(r.useState)(null),w=Object(n.a)(m,2),k=w[0],g=w[1];return Object(r.useEffect)((function(){fetch("https://3nkkif0kc7.execute-api.us-east-1.amazonaws.com/id").then((function(e){return e.json()})).then((function(e){u(e),console.log(e,o(e)),fetch("https://3nkkif0kc7.execute-api.us-east-1.amazonaws.com/id/"+o(e)).then((function(e){return e.json()})).then((function(e){return f(i(e[0]))})),fetch("https://3nkkif0kc7.execute-api.us-east-1.amazonaws.com/id/"+o(e)).then((function(e){return e.json()})).then((function(e){return g(i(e[0]))}))}))}),[]),Object(r.useEffect)((function(){if(console.log("second useffect:",p,k),null!==p&&null!==k){for(var e=l(p,k),t=d(e),c=0;c<1500&&!(t=d(t)).fightEnded;c++);console.log(t.logs),s(t.logs)}}),[p,k]),console.log(b,p,k),Object(h.jsxs)("div",{className:"consumptionForm",children:[Object(h.jsx)("h1",{children:"Ruoka Kombat 3"}),p&&k?Object(h.jsxs)("table",{className:"tui-table",style:{minWidth:"100%"},children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsxs)("th",{children:[p.name.split(",")[0],Object(h.jsx)("p",{className:"additionalNameInfo",children:p.name.split(",").slice(1).join(",")})]}),Object(h.jsx)("th",{children:"VS"}),Object(h.jsxs)("th",{children:[k.name.split(",")[0],Object(h.jsx)("p",{className:"additionalNameInfo",children:k.name.split(",").slice(1).join(",")})]})]})}),Object(h.jsxs)("tbody",{children:[Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[p.hp.toFixed(2)," kcal"]}),Object(h.jsx)("td",{children:"Energia"}),Object(h.jsxs)("td",{children:[k.hp.toFixed(2)," kcal"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[p.attackPower," g"]}),Object(h.jsx)("td",{children:"Hiilihydraatit"}),Object(h.jsxs)("td",{children:[k.attackPower," g"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[p.defencePower," g"]}),Object(h.jsx)("td",{children:"Proteiini"}),Object(h.jsxs)("td",{children:[k.defencePower," g"]})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[p.fats," g"]}),Object(h.jsx)("td",{children:"Rasva"}),Object(h.jsxs)("td",{children:[k.fats," g"]})]}),Object(h.jsx)("br",{}),Object(h.jsx)("hr",{}),Object(h.jsx)("br",{}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:p.hp.toFixed(0)}),Object(h.jsx)("td",{children:"Health"}),Object(h.jsx)("td",{children:k.hp.toFixed(0)})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:p.attackPower}),Object(h.jsx)("td",{children:"Attack"}),Object(h.jsx)("td",{children:k.attackPower})]}),Object(h.jsxs)("tr",{children:[Object(h.jsx)("td",{children:p.defencePower}),Object(h.jsx)("td",{children:"Defence"}),Object(h.jsx)("td",{children:k.defencePower})]}),Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[p.delay," "]}),Object(h.jsx)("td",{children:"Delay"}),Object(h.jsx)("td",{children:k.delay})]})]})]}):Object(h.jsx)("div",{children:"Ladataan..."}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("span",{className:"tui-divider white-255-border"}),Object(h.jsx)("br",{}),Object(h.jsx)("br",{}),Object(h.jsx)("div",{className:"cyan-168",children:Object(h.jsxs)("fieldset",{className:"tui-input-fieldset",children:[p&&k?Object(h.jsxs)("table",{className:"tui-table",style:{minWidth:"100%"},children:[Object(h.jsx)("thead",{children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{children:"Tapahtuma"}),Object(h.jsx)("th",{children:p.name.slice(0,8)}),Object(h.jsx)("th",{children:k.name.slice(0,8)})]})}),Object(h.jsx)("tbody",{children:c.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[e.currTime.toFixed(2)+"s "+e.whoHit.slice(0,12),t>0?t===c.length-1?". voitti!":". l\xf6i":"Taistelu alkaa"]}),Object(h.jsxs)("td",{children:[e.currHp1<=0?0:e.currHp1.toFixed(2)," hp"]}),Object(h.jsxs)("td",{children:[e.currHp2<=0?0:e.currHp2.toFixed(2)," hp"]})]})}))})]}):Object(h.jsx)("div",{children:"Ladataan..."}),Object(h.jsx)("legend",{children:"Tulokset"})]})})]})},u=document.getElementById("root");s.createRoot(u).render(Object(h.jsx)(r.StrictMode,{children:Object(h.jsx)(b,{})}))}},[[14,1,2]]]);
//# sourceMappingURL=main.cd097497.chunk.js.map